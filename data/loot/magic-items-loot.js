/**
 * Magic Items for Loot Generation
 * Permanent magical items by rarity
 */

const MagicItemsLoot = {
    // Common magic items (value ~50-100 gp)
    common: [
        { name: "Cloak of Billowing", desc: "Dramatically billow your cloak as a bonus action", type: "wondrous", attunement: false },
        { name: "Cloak of Many Fashions", desc: "Change cloak's style, color, and apparent quality", type: "wondrous", attunement: false },
        { name: "Clockwork Amulet", desc: "Once per day, treat a d20 roll as 10", type: "wondrous", attunement: false },
        { name: "Clothes of Mending", desc: "Magically mend themselves", type: "wondrous", attunement: false },
        { name: "Dark Shard Amulet", desc: "Warlock: free minor conjuration when out of slots", type: "wondrous", attunement: "warlock" },
        { name: "Dread Helm", desc: "Eyes glow red while wearing", type: "armor", attunement: false },
        { name: "Ear Horn of Hearing", desc: "Advantage on hearing-based Perception", type: "wondrous", attunement: false },
        { name: "Enduring Spellbook", desc: "Can't be damaged by fire or water", type: "wondrous", attunement: false },
        { name: "Ersatz Eye", desc: "Replaces lost eye and functions normally", type: "wondrous", attunement: true },
        { name: "Hat of Vermin", desc: "Summon a bat, frog, or rat 3/day", type: "wondrous", attunement: false },
        { name: "Hat of Wizardry", desc: "Wizard: cast one cantrip you don't know", type: "wondrous", attunement: "wizard" },
        { name: "Heward's Handy Spice Pouch", desc: "Produces seasoning for one meal", type: "wondrous", attunement: false },
        { name: "Moon-Touched Sword", desc: "Sheds bright light 15 ft in darkness", type: "weapon", attunement: false },
        { name: "Mystery Key", desc: "20% chance to unlock any lock (1/dawn)", type: "wondrous", attunement: false },
        { name: "Orb of Direction", desc: "Determine which way is north", type: "wondrous", attunement: false },
        { name: "Orb of Time", desc: "Determine current time of day", type: "wondrous", attunement: false },
        { name: "Pipe of Smoke Monsters", desc: "Create smoke shapes", type: "wondrous", attunement: false },
        { name: "Pole of Angling", desc: "Telescoping fishing pole", type: "wondrous", attunement: false },
        { name: "Pole of Collapsing", desc: "10-ft pole, collapses to 1 ft", type: "wondrous", attunement: false },
        { name: "Pot of Awakening", desc: "Grow an awakened shrub in 30 days", type: "wondrous", attunement: false },
        { name: "Rope of Mending", desc: "Self-repairing rope", type: "wondrous", attunement: false },
        { name: "Ruby of the War Mage", desc: "Use weapon as spellcasting focus", type: "wondrous", attunement: true },
        { name: "Shield of Expression", desc: "Change face on shield at will", type: "armor", attunement: false },
        { name: "Smoldering Armor", desc: "Wisps of harmless smoke", type: "armor", attunement: false },
        { name: "Staff of Adornment", desc: "Float small objects around staff", type: "staff", attunement: false },
        { name: "Staff of Birdcalls", desc: "Create bird sounds", type: "staff", attunement: false },
        { name: "Staff of Flowers", desc: "Cause flowers to sprout", type: "staff", attunement: false },
        { name: "Talking Doll", desc: "Record and play back 6-second message", type: "wondrous", attunement: false },
        { name: "Tankard of Sobriety", desc: "Immune to being intoxicated while drinking from it", type: "wondrous", attunement: false },
        { name: "Unbreakable Arrow", desc: "Can't be broken except in antimagic", type: "ammunition", attunement: false },
        { name: "Veteran's Cane", desc: "Can support 250 lbs, magical", type: "wondrous", attunement: false },
        { name: "Walloping Ammunition", desc: "Can knock prone on hit", type: "ammunition", attunement: false },
        { name: "Wand of Conducting", desc: "Musical accompaniment", type: "wand", attunement: false },
        { name: "Wand of Pyrotechnics", desc: "Harmless fireworks", type: "wand", attunement: false },
        { name: "Wand of Scowls", desc: "Force creature to scowl", type: "wand", attunement: false },
        { name: "Wand of Smiles", desc: "Force creature to smile", type: "wand", attunement: false }
    ],

    // Uncommon magic items (value ~100-500 gp)
    uncommon: [
        { name: "+1 Weapon", desc: "+1 to attack and damage rolls", type: "weapon", attunement: false },
        { name: "+1 Shield", desc: "+1 to AC (on top of shield bonus)", type: "armor", attunement: false },
        { name: "+1 Armor", desc: "+1 to AC", type: "armor", attunement: false },
        { name: "Adamantine Armor", desc: "Critical hits become normal hits", type: "armor", attunement: false },
        { name: "Alchemy Jug", desc: "Produces liquids", type: "wondrous", attunement: false },
        { name: "Amulet of Proof against Detection", desc: "Can't be targeted by divination", type: "wondrous", attunement: true },
        { name: "Bag of Holding", desc: "64 cubic feet, 500 lbs capacity", type: "wondrous", attunement: false },
        { name: "Boots of Elvenkind", desc: "Advantage on Stealth (sound)", type: "wondrous", attunement: false },
        { name: "Boots of Striding and Springing", desc: "Walking speed 30 ft minimum, triple jump", type: "wondrous", attunement: true },
        { name: "Boots of the Winterlands", desc: "Cold resistance, ignore difficult snowy terrain", type: "wondrous", attunement: true },
        { name: "Bracers of Archery", desc: "+2 damage with longbow/shortbow", type: "wondrous", attunement: true },
        { name: "Brooch of Shielding", desc: "Resistance to force, immune to magic missile", type: "wondrous", attunement: true },
        { name: "Broom of Flying", desc: "Fly 50 ft", type: "wondrous", attunement: false },
        { name: "Cap of Water Breathing", desc: "Breathe underwater", type: "wondrous", attunement: false },
        { name: "Circlet of Blasting", desc: "Cast Scorching Ray 1/dawn", type: "wondrous", attunement: false },
        { name: "Cloak of Elvenkind", desc: "Advantage on Stealth (sight)", type: "wondrous", attunement: true },
        { name: "Cloak of Protection", desc: "+1 AC and saving throws", type: "wondrous", attunement: true },
        { name: "Cloak of the Manta Ray", desc: "Swim 60 ft, breathe underwater", type: "wondrous", attunement: false },
        { name: "Decanter of Endless Water", desc: "Produces water on command", type: "wondrous", attunement: false },
        { name: "Deck of Illusions", desc: "Create illusory creatures", type: "wondrous", attunement: false },
        { name: "Driftglobe", desc: "Light or Daylight 1/dawn", type: "wondrous", attunement: false },
        { name: "Dust of Disappearance", desc: "Invisibility for 2d4 minutes", type: "wondrous", attunement: false },
        { name: "Eyes of Charming", desc: "Cast Charm Person 3/day", type: "wondrous", attunement: true },
        { name: "Eyes of Minute Seeing", desc: "Advantage on Investigation within 1 ft", type: "wondrous", attunement: false },
        { name: "Eyes of the Eagle", desc: "Advantage on sight-based Perception", type: "wondrous", attunement: true },
        { name: "Gauntlets of Ogre Power", desc: "Strength 19", type: "wondrous", attunement: true },
        { name: "Gem of Brightness", desc: "50 charges of light effects", type: "wondrous", attunement: false },
        { name: "Gloves of Missile Snaring", desc: "Reduce ranged damage, can catch missiles", type: "wondrous", attunement: true },
        { name: "Gloves of Swimming and Climbing", desc: "Swim and climb speed equal to walking", type: "wondrous", attunement: true },
        { name: "Gloves of Thievery", desc: "+5 to Sleight of Hand, pick locks", type: "wondrous", attunement: false },
        { name: "Goggles of Night", desc: "Darkvision 60 ft", type: "wondrous", attunement: false },
        { name: "Hat of Disguise", desc: "Cast Disguise Self at will", type: "wondrous", attunement: true },
        { name: "Headband of Intellect", desc: "Intelligence 19", type: "wondrous", attunement: true },
        { name: "Helm of Comprehending Languages", desc: "Cast Comprehend Languages at will", type: "wondrous", attunement: false },
        { name: "Helm of Telepathy", desc: "Telepathy 30 ft, Suggestion 1/day", type: "wondrous", attunement: true },
        { name: "Immovable Rod", desc: "Fixes in place, holds 8,000 lbs", type: "rod", attunement: false },
        { name: "Instrument of the Bards (Doss Lute)", desc: "Various charm/buff spells", type: "wondrous", attunement: true },
        { name: "Javelin of Lightning", desc: "Becomes lightning bolt 1/day", type: "weapon", attunement: false },
        { name: "Lantern of Revealing", desc: "Reveals invisible in 30 ft", type: "wondrous", attunement: false },
        { name: "Luckstone", desc: "+1 to ability checks and saving throws", type: "wondrous", attunement: true },
        { name: "Medallion of Thoughts", desc: "Cast Detect Thoughts 3/day", type: "wondrous", attunement: true },
        { name: "Mithral Armor", desc: "No Stealth disadvantage, no Str requirement", type: "armor", attunement: false },
        { name: "Necklace of Adaptation", desc: "Breathe normally in any environment", type: "wondrous", attunement: true },
        { name: "Pearl of Power", desc: "Recover one spell slot 3rd or lower 1/dawn", type: "wondrous", attunement: "spellcaster" },
        { name: "Periapt of Health", desc: "Immune to disease", type: "wondrous", attunement: false },
        { name: "Periapt of Wound Closure", desc: "Stabilize at 0 HP, double HD healing", type: "wondrous", attunement: true },
        { name: "Pipes of Haunting", desc: "Frighten creatures in 30 ft 3/day", type: "wondrous", attunement: false },
        { name: "Pipes of the Sewers", desc: "Summon and control rats", type: "wondrous", attunement: true },
        { name: "Ring of Jumping", desc: "Cast Jump at will", type: "ring", attunement: true },
        { name: "Ring of Mind Shielding", desc: "Immune to telepathy, thoughts can't be read", type: "ring", attunement: true },
        { name: "Ring of Swimming", desc: "Swim speed 40 ft", type: "ring", attunement: false },
        { name: "Ring of Warmth", desc: "Cold resistance, comfort in cold", type: "ring", attunement: true },
        { name: "Ring of Water Walking", desc: "Walk on liquid surfaces", type: "ring", attunement: false },
        { name: "Robe of Useful Items", desc: "Detachable patches become real items", type: "wondrous", attunement: false },
        { name: "Rod of the Pact Keeper +1", desc: "+1 spell attack and DC, recover slot 1/day", type: "rod", attunement: "warlock" },
        { name: "Rope of Climbing", desc: "60 ft, animate on command", type: "wondrous", attunement: false },
        { name: "Saddle of the Cavalier", desc: "Can't be dismounted, mount has advantage vs prone", type: "wondrous", attunement: false },
        { name: "Sending Stones", desc: "Cast Sending 1/day to paired stone", type: "wondrous", attunement: false },
        { name: "Sentinel Shield", desc: "Advantage on Initiative and Perception", type: "armor", attunement: false },
        { name: "Slippers of Spider Climbing", desc: "Walk on walls and ceilings", type: "wondrous", attunement: true },
        { name: "Staff of the Adder", desc: "Animate snake head, 3d6 poison", type: "staff", attunement: true },
        { name: "Staff of the Python", desc: "Becomes giant constrictor snake", type: "staff", attunement: true },
        { name: "Stone of Good Luck", desc: "+1 ability checks and saving throws", type: "wondrous", attunement: true },
        { name: "Sword of Vengeance", desc: "+1 sword, cursed to pursue attackers", type: "weapon", attunement: true },
        { name: "Trident of Fish Command", desc: "Dominate Beast (aquatic) 3/day", type: "weapon", attunement: true },
        { name: "Wand of Magic Detection", desc: "Cast Detect Magic 3/day", type: "wand", attunement: false },
        { name: "Wand of Magic Missiles", desc: "7 charges, 1-3 missiles per charge", type: "wand", attunement: false },
        { name: "Wand of Secrets", desc: "Detect secret doors 3/day", type: "wand", attunement: false },
        { name: "Wand of the War Mage +1", desc: "+1 spell attack, ignore half cover", type: "wand", attunement: "spellcaster" },
        { name: "Wand of Web", desc: "Cast Web, 7 charges", type: "wand", attunement: "spellcaster" },
        { name: "Weapon of Warning", desc: "Advantage on initiative, can't be surprised", type: "weapon", attunement: true },
        { name: "Wind Fan", desc: "Cast Gust of Wind 3/day", type: "wondrous", attunement: false },
        { name: "Winged Boots", desc: "Fly 4 hours, recharges", type: "wondrous", attunement: true }
    ],

    // Rare magic items (value ~500-5000 gp)
    rare: [
        { name: "+2 Weapon", desc: "+2 to attack and damage rolls", type: "weapon", attunement: false },
        { name: "+2 Shield", desc: "+2 to AC (on top of shield bonus)", type: "armor", attunement: false },
        { name: "+2 Armor", desc: "+2 to AC", type: "armor", attunement: false },
        { name: "Amulet of Health", desc: "Constitution 19", type: "wondrous", attunement: true },
        { name: "Armor of Resistance", desc: "Resistance to one damage type", type: "armor", attunement: true },
        { name: "Armor of Vulnerability", desc: "Resistance to one, vulnerability to another (cursed)", type: "armor", attunement: true },
        { name: "Arrow-Catching Shield", desc: "+2 AC vs ranged, can catch missiles", type: "armor", attunement: true },
        { name: "Belt of Dwarvenkind", desc: "+2 Con, darkvision, dwarvish", type: "wondrous", attunement: true },
        { name: "Belt of Hill Giant Strength", desc: "Strength 21", type: "wondrous", attunement: true },
        { name: "Berserker Axe", desc: "+1 axe, +1 HP per level, cursed rage", type: "weapon", attunement: true },
        { name: "Boots of Levitation", desc: "Cast Levitate on self at will", type: "wondrous", attunement: true },
        { name: "Boots of Speed", desc: "Double walking speed 10 min/day", type: "wondrous", attunement: true },
        { name: "Bowl of Commanding Water Elementals", desc: "Summon water elemental", type: "wondrous", attunement: false },
        { name: "Bracers of Defense", desc: "+2 AC when unarmored", type: "wondrous", attunement: true },
        { name: "Brazier of Commanding Fire Elementals", desc: "Summon fire elemental", type: "wondrous", attunement: false },
        { name: "Cape of the Mountebank", desc: "Cast Dimension Door 1/day", type: "wondrous", attunement: false },
        { name: "Censer of Controlling Air Elementals", desc: "Summon air elemental", type: "wondrous", attunement: false },
        { name: "Cloak of Displacement", desc: "Disadvantage on attacks against you", type: "wondrous", attunement: true },
        { name: "Cloak of the Bat", desc: "Fly in dim light/darkness, polymorph bat", type: "wondrous", attunement: true },
        { name: "Cube of Force", desc: "36 charges, create force barriers", type: "wondrous", attunement: true },
        { name: "Daern's Instant Fortress", desc: "Creates adamantine tower", type: "wondrous", attunement: false },
        { name: "Dagger of Venom", desc: "+1, 2d10 poison 1/day", type: "weapon", attunement: true },
        { name: "Dragon Scale Mail", desc: "+1, resistance to dragon's type, detect dragons", type: "armor", attunement: true },
        { name: "Dragon Slayer", desc: "+1, +3d6 vs dragons", type: "weapon", attunement: false },
        { name: "Flame Tongue", desc: "+2d6 fire, bright light", type: "weapon", attunement: true },
        { name: "Giant Slayer", desc: "+1, +2d6 vs giants, knock prone", type: "weapon", attunement: false },
        { name: "Glamoured Studded Leather", desc: "+1, change appearance at will", type: "armor", attunement: false },
        { name: "Helm of Teleportation", desc: "Cast Teleport 3/day", type: "wondrous", attunement: true },
        { name: "Horn of Valhalla (Silver)", desc: "Summon berserker spirits", type: "wondrous", attunement: false },
        { name: "Ioun Stone (Awareness)", desc: "Can't be surprised", type: "wondrous", attunement: true },
        { name: "Ioun Stone (Protection)", desc: "+1 AC", type: "wondrous", attunement: true },
        { name: "Ioun Stone (Reserve)", desc: "Store 3 spell levels", type: "wondrous", attunement: true },
        { name: "Ioun Stone (Sustenance)", desc: "No need for food or water", type: "wondrous", attunement: true },
        { name: "Iron Bands of Bilarro", desc: "Restrain Large or smaller creature", type: "wondrous", attunement: false },
        { name: "Mace of Disruption", desc: "+2d6 radiant vs fiends/undead, destroy weak ones", type: "weapon", attunement: true },
        { name: "Mace of Smiting", desc: "+1 (+3 vs constructs), extra damage and crit", type: "weapon", attunement: false },
        { name: "Mace of Terror", desc: "Fear aura 3/day", type: "weapon", attunement: true },
        { name: "Mantle of Spell Resistance", desc: "Advantage on saves vs spells", type: "wondrous", attunement: true },
        { name: "Necklace of Prayer Beads", desc: "Various cleric spells", type: "wondrous", attunement: true },
        { name: "Periapt of Proof against Poison", desc: "Immune to poison", type: "wondrous", attunement: false },
        { name: "Ring of Animal Influence", desc: "Animal spells 3/day total", type: "ring", attunement: false },
        { name: "Ring of Evasion", desc: "Auto-succeed Dex save 3/day", type: "ring", attunement: true },
        { name: "Ring of Feather Falling", desc: "Constant Feather Fall", type: "ring", attunement: true },
        { name: "Ring of Free Action", desc: "Can't be paralyzed or restrained", type: "ring", attunement: true },
        { name: "Ring of Protection", desc: "+1 AC and saves", type: "ring", attunement: true },
        { name: "Ring of Resistance", desc: "Resistance to one damage type", type: "ring", attunement: true },
        { name: "Ring of Spell Storing", desc: "Store up to 5 spell levels", type: "ring", attunement: true },
        { name: "Ring of X-ray Vision", desc: "See through walls", type: "ring", attunement: true },
        { name: "Robe of Eyes", desc: "All-around vision, see invisible/ethereal", type: "wondrous", attunement: true },
        { name: "Rod of Rulership", desc: "Charm creatures 8 hrs 1/day", type: "rod", attunement: true },
        { name: "Rod of the Pact Keeper +2", desc: "+2 spell attack and DC, recover slot 1/day", type: "rod", attunement: "warlock" },
        { name: "Staff of Charming", desc: "10 charges, charm spells", type: "staff", attunement: "bard/cleric/druid/sorcerer/warlock/wizard" },
        { name: "Staff of Fire", desc: "10 charges, fire spells", type: "staff", attunement: "druid/sorcerer/warlock/wizard" },
        { name: "Staff of Frost", desc: "10 charges, cold spells", type: "staff", attunement: "druid/sorcerer/warlock/wizard" },
        { name: "Staff of Healing", desc: "10 charges, healing spells", type: "staff", attunement: "bard/cleric/druid" },
        { name: "Staff of Swarming Insects", desc: "10 charges, insect spells", type: "staff", attunement: "bard/cleric/druid/sorcerer/warlock/wizard" },
        { name: "Staff of the Woodlands", desc: "10 charges, nature spells, Tree form", type: "staff", attunement: "druid" },
        { name: "Staff of Withering", desc: "+2d10 necrotic, -1 Str/Con", type: "staff", attunement: "cleric/druid/warlock" },
        { name: "Stone of Controlling Earth Elementals", desc: "Summon earth elemental", type: "wondrous", attunement: false },
        { name: "Sun Blade", desc: "+2 radiant sword, extra vs undead, light", type: "weapon", attunement: true },
        { name: "Sword of Life Stealing", desc: "+10 necrotic and temp HP on crit", type: "weapon", attunement: true },
        { name: "Sword of Sharpness", desc: "Max slashing, sever limbs on 20", type: "weapon", attunement: true },
        { name: "Sword of Wounding", desc: "Wounds that keep bleeding", type: "weapon", attunement: true },
        { name: "Tentacle Rod", desc: "3 tentacle attacks, 15 ft reach", type: "rod", attunement: true },
        { name: "Vicious Weapon", desc: "+2d6 on natural 20", type: "weapon", attunement: false },
        { name: "Wand of Binding", desc: "7 charges, binding spells", type: "wand", attunement: "spellcaster" },
        { name: "Wand of Enemy Detection", desc: "7 charges, detect enemies", type: "wand", attunement: false },
        { name: "Wand of Fear", desc: "7 charges, fear effects", type: "wand", attunement: false },
        { name: "Wand of Fireballs", desc: "7 charges, cast Fireball", type: "wand", attunement: "spellcaster" },
        { name: "Wand of Lightning Bolts", desc: "7 charges, cast Lightning Bolt", type: "wand", attunement: "spellcaster" },
        { name: "Wand of Paralysis", desc: "7 charges, paralyze", type: "wand", attunement: "spellcaster" },
        { name: "Wand of the War Mage +2", desc: "+2 spell attack, ignore half cover", type: "wand", attunement: "spellcaster" },
        { name: "Wand of Wonder", desc: "Random magical effects", type: "wand", attunement: "spellcaster" },
        { name: "Wings of Flying", desc: "Fly 60 ft for 1 hour", type: "wondrous", attunement: true }
    ],

    // Very Rare magic items (value ~5000-50000 gp)
    veryRare: [
        { name: "+3 Weapon", desc: "+3 to attack and damage rolls", type: "weapon", attunement: false },
        { name: "+3 Shield", desc: "+3 to AC (on top of shield bonus)", type: "armor", attunement: false },
        { name: "+3 Armor", desc: "+3 to AC", type: "armor", attunement: false },
        { name: "Amulet of the Planes", desc: "Cast Plane Shift", type: "wondrous", attunement: true },
        { name: "Animated Shield", desc: "Shield floats and defends you", type: "armor", attunement: true },
        { name: "Belt of Fire Giant Strength", desc: "Strength 25", type: "wondrous", attunement: true },
        { name: "Belt of Frost Giant Strength", desc: "Strength 23", type: "wondrous", attunement: true },
        { name: "Candle of Invocation", desc: "Gate spell when burned out", type: "wondrous", attunement: false },
        { name: "Carpet of Flying", desc: "Fly 80 ft, various sizes", type: "wondrous", attunement: false },
        { name: "Cloak of Arachnida", desc: "Spider climb, web immunity, poison resistance", type: "wondrous", attunement: true },
        { name: "Crystal Ball", desc: "Scrying", type: "wondrous", attunement: true },
        { name: "Dancing Sword", desc: "+1, animates and attacks on its own", type: "weapon", attunement: true },
        { name: "Demon Armor", desc: "+1 plate, resist fire/cold/lightning, cursed", type: "armor", attunement: true },
        { name: "Dragon Scale Mail +2", desc: "+2, resistance, detect dragons", type: "armor", attunement: true },
        { name: "Dwarven Plate", desc: "+2 plate, reduce forced movement", type: "armor", attunement: false },
        { name: "Dwarven Thrower", desc: "+3 hammer, returns, +2d8 vs giants", type: "weapon", attunement: "dwarf" },
        { name: "Efreeti Bottle", desc: "Summon efreeti, possible wishes", type: "wondrous", attunement: false },
        { name: "Figurine of Wondrous Power (Obsidian Steed)", desc: "Summon nightmare", type: "wondrous", attunement: false },
        { name: "Frost Brand", desc: "+1d6 cold, fire resistance, extinguish flames", type: "weapon", attunement: true },
        { name: "Helm of Brilliance", desc: "Fire gems cast spells", type: "wondrous", attunement: true },
        { name: "Horn of Valhalla (Bronze)", desc: "Summon berserker spirits (4d4+4)", type: "wondrous", attunement: false },
        { name: "Horseshoes of a Zephyr", desc: "Horse walks on any surface", type: "wondrous", attunement: false },
        { name: "Instrument of the Bards (Ollamh Harp)", desc: "Powerful bard spells", type: "wondrous", attunement: "bard" },
        { name: "Ioun Stone (Absorption)", desc: "Cancel spells, store levels", type: "wondrous", attunement: true },
        { name: "Ioun Stone (Agility)", desc: "+2 Dexterity", type: "wondrous", attunement: true },
        { name: "Ioun Stone (Fortitude)", desc: "+2 Constitution", type: "wondrous", attunement: true },
        { name: "Ioun Stone (Insight)", desc: "+2 Wisdom", type: "wondrous", attunement: true },
        { name: "Ioun Stone (Intellect)", desc: "+2 Intelligence", type: "wondrous", attunement: true },
        { name: "Ioun Stone (Leadership)", desc: "+2 Charisma", type: "wondrous", attunement: true },
        { name: "Ioun Stone (Strength)", desc: "+2 Strength", type: "wondrous", attunement: true },
        { name: "Ioun Stone (Mastery)", desc: "+1 proficiency bonus", type: "wondrous", attunement: true },
        { name: "Ioun Stone (Regeneration)", desc: "Regain 15 HP per hour", type: "wondrous", attunement: true },
        { name: "Mirror of Life Trapping", desc: "Trap creatures in mirror", type: "wondrous", attunement: false },
        { name: "Nine Lives Stealer", desc: "+2, steal soul on crit", type: "weapon", attunement: true },
        { name: "Oathbow", desc: "+3d6 vs sworn enemy", type: "weapon", attunement: true },
        { name: "Ring of Regeneration", desc: "Regain 1d6 HP every 10 min, regrow limbs", type: "ring", attunement: true },
        { name: "Ring of Shooting Stars", desc: "Light, Faerie Fire, shooting stars", type: "ring", attunement: true },
        { name: "Ring of Telekinesis", desc: "Cast Telekinesis at will", type: "ring", attunement: true },
        { name: "Robe of Scintillating Colors", desc: "Stun nearby creatures", type: "wondrous", attunement: true },
        { name: "Robe of Stars", desc: "+1 saves, Magic Missile, Plane Shift", type: "wondrous", attunement: true },
        { name: "Rod of Absorption", desc: "Absorb spells, use for own spells", type: "rod", attunement: true },
        { name: "Rod of Alertness", desc: "Various detection abilities", type: "rod", attunement: true },
        { name: "Rod of Security", desc: "Create paradise demiplane", type: "rod", attunement: false },
        { name: "Rod of the Pact Keeper +3", desc: "+3 spell attack and DC, recover slot 1/day", type: "rod", attunement: "warlock" },
        { name: "Scimitar of Speed", desc: "+2, bonus action attack", type: "weapon", attunement: true },
        { name: "Shield of Missile Attraction", desc: "+2, cursed to attract missiles", type: "armor", attunement: true },
        { name: "Spellguard Shield", desc: "Advantage vs spells, no spell crits", type: "armor", attunement: true },
        { name: "Staff of Power", desc: "+2, many spells, retributive strike", type: "staff", attunement: "sorcerer/warlock/wizard" },
        { name: "Staff of Striking", desc: "+3, 3d6 force for charges", type: "staff", attunement: true },
        { name: "Staff of Thunder and Lightning", desc: "+2, thunder and lightning effects", type: "staff", attunement: true },
        { name: "Sword of Answering", desc: "+3, reaction attack, various alignments", type: "weapon", attunement: true },
        { name: "Wand of Polymorph", desc: "7 charges, cast Polymorph", type: "wand", attunement: "spellcaster" },
        { name: "Wand of the War Mage +3", desc: "+3 spell attack, ignore cover", type: "wand", attunement: "spellcaster" }
    ],

    // Legendary magic items (value ~50000+ gp)
    legendary: [
        { name: "Apparatus of Kwalish", desc: "Lobster-shaped vehicle", type: "wondrous", attunement: false },
        { name: "Armor of Invulnerability", desc: "Immunity to nonmagical damage", type: "armor", attunement: true },
        { name: "Belt of Cloud Giant Strength", desc: "Strength 27", type: "wondrous", attunement: true },
        { name: "Belt of Storm Giant Strength", desc: "Strength 29", type: "wondrous", attunement: true },
        { name: "Blackrazor", desc: "Soul-drinking greatsword", type: "weapon", attunement: true },
        { name: "Cloak of Invisibility", desc: "Invisibility at will, 2 hours/day", type: "wondrous", attunement: true },
        { name: "Crystal Ball of Mind Reading", desc: "Scrying + Detect Thoughts", type: "wondrous", attunement: true },
        { name: "Crystal Ball of Telepathy", desc: "Scrying + telepathy + Suggestion", type: "wondrous", attunement: true },
        { name: "Crystal Ball of True Seeing", desc: "Scrying + True Seeing", type: "wondrous", attunement: true },
        { name: "Cubic Gate", desc: "Open gates to other planes", type: "wondrous", attunement: false },
        { name: "Deck of Many Things", desc: "Draw cards, random powerful effects", type: "wondrous", attunement: false },
        { name: "Defender", desc: "+3, transfer bonus to AC", type: "weapon", attunement: true },
        { name: "Efreeti Chain", desc: "+3 chain mail, immune fire, walk on lava", type: "armor", attunement: true },
        { name: "Hammer of Thunderbolts", desc: "+3, giant slayer, throw lightning", type: "weapon", attunement: true },
        { name: "Holy Avenger", desc: "+3, +2d10 vs fiends/undead, aura", type: "weapon", attunement: "paladin" },
        { name: "Horn of Valhalla (Iron)", desc: "Summon berserker spirits (5d4+5)", type: "wondrous", attunement: false },
        { name: "Ioun Stone (Greater Absorption)", desc: "Cancel spells up to 8th level", type: "wondrous", attunement: true },
        { name: "Iron Flask (with creature)", desc: "Contains trapped creature", type: "wondrous", attunement: false },
        { name: "Luck Blade", desc: "+1, Luck, Wish", type: "weapon", attunement: true },
        { name: "Plate Armor of Etherealness", desc: "Become ethereal", type: "armor", attunement: true },
        { name: "Ring of Air Elemental Command", desc: "Control air, fly, resist lightning", type: "ring", attunement: true },
        { name: "Ring of Djinni Summoning", desc: "Summon djinni", type: "ring", attunement: true },
        { name: "Ring of Earth Elemental Command", desc: "Control earth, move through stone", type: "ring", attunement: true },
        { name: "Ring of Fire Elemental Command", desc: "Control fire, immunity to fire", type: "ring", attunement: true },
        { name: "Ring of Invisibility", desc: "Invisible at will", type: "ring", attunement: true },
        { name: "Ring of Spell Turning", desc: "Advantage vs spells, reflect on 20", type: "ring", attunement: true },
        { name: "Ring of Three Wishes", desc: "3 Wish spells", type: "ring", attunement: false },
        { name: "Ring of Water Elemental Command", desc: "Control water, water breathing", type: "ring", attunement: true },
        { name: "Robe of the Archmagi", desc: "+2 AC, +2 saves, +2 spell DC, resistance", type: "wondrous", attunement: "sorcerer/warlock/wizard" },
        { name: "Rod of Lordly Might", desc: "Various weapon forms and abilities", type: "rod", attunement: true },
        { name: "Rod of Resurrection", desc: "Resurrection 5/day", type: "rod", attunement: "cleric/druid/paladin" },
        { name: "Scarab of Protection", desc: "+1 saves, absorb Finger of Death etc", type: "wondrous", attunement: true },
        { name: "Sphere of Annihilation", desc: "8-ft void that destroys matter", type: "wondrous", attunement: false },
        { name: "Staff of the Magi", desc: "+2, absorb spells, many castings", type: "staff", attunement: "sorcerer/warlock/wizard" },
        { name: "Sword of Kas", desc: "+3, vorpal, stat boosts, cursed", type: "weapon", attunement: true },
        { name: "Talisman of Pure Good", desc: "Destroy evil creatures (7 charges)", type: "wondrous", attunement: "good cleric/paladin" },
        { name: "Talisman of the Sphere", desc: "Control Sphere of Annihilation", type: "wondrous", attunement: false },
        { name: "Talisman of Ultimate Evil", desc: "Destroy good creatures (6 charges)", type: "wondrous", attunement: "evil cleric/paladin" },
        { name: "Tome of the Stilled Tongue", desc: "+spells, communication with Vecna", type: "wondrous", attunement: "wizard" },
        { name: "Vorpal Sword", desc: "+3, decapitate on nat 20", type: "weapon", attunement: true },
        { name: "Wave", desc: "+3 trident, water abilities, cursed", type: "weapon", attunement: true },
        { name: "Whelm", desc: "+3 warhammer, dwarf abilities, cursed", type: "weapon", attunement: "dwarf" }
    ]
};

// Export for use in modules
if (typeof module !== 'undefined' && module.exports) {
    module.exports = MagicItemsLoot;
}
